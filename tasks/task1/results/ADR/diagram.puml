@startuml Hotelio C4 Container Diagram
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml

title Hotelio C4 Container Diagram

Person(browser, "Browser", "Web Client")
Person(mobile, "Mobile App", "Mobile Client")

System_Boundary(c1, "Hotelio System") {
    Container(frontend, "Frontend", "React/Vue", "Single-page application")
    Container(api_gateway, "API Gateway", "Spring Gateway", "Request routing and load balancing")
    
    System_Boundary(monolith, "Hotelio Monolith Backend") {
        Container(app_user_service, "App User Service", "Java/Spring", "User Management Logic")
        Container(booking_service, "Booking Service", "Java/Spring", "Booking Processing Logic")
        Container(hotel_service, "Hotel Service", "Java/Spring", "Hotel Management Logic")
        Container(review_service, "Review Service", "Java/Spring", "Review Processing Logic")
        Container(promo_service, "Promo Code Service", "Java/Spring", "Promo Validation Logic")
    }
    
    Container(extracted_hotel_service, "Hotel Service", "Microservice", "Hotel Information Service")
}

ContainerDb(monolith_db, "Monolith Database", "PostgreSQL", "Main application database")
ContainerDb(hotel_db, "Hotel Service Database", "PostgreSQL", "Hotel service database")

' User interactions
browser --> frontend : Uses
mobile --> frontend : Uses
frontend --> api_gateway : HTTPS

' API Gateway routing
api_gateway --> app_user_service : HTTP
api_gateway --> booking_service : HTTP
api_gateway --> hotel_service : HTTP
api_gateway --> review_service : HTTP
api_gateway --> promo_service : HTTP
api_gateway --> extracted_hotel_service : HTTP

' Internal monolith dependencies
app_user_service --> booking_service : Uses
hotel_service --> booking_service : Uses
review_service --> booking_service : Uses
promo_service --> app_user_service : Uses

' Database connections
app_user_service --> monolith_db : Reads/Writes
booking_service --> monolith_db : Reads/Writes
hotel_service --> monolith_db : Reads/Writes
review_service --> monolith_db : Reads/Writes
promo_service --> monolith_db : Reads/Writes

extracted_hotel_service --> hotel_db : Reads/Writes

' Styling
skinparam backgroundColor #FFFFFF
skinparam defaultFontSize 10
skinparam component {
    BackgroundColor<<default>> #E8F5E8
    BorderColor #2E7D32
    FontColor #000000
}

skinparam database {
    BackgroundColor #FCE4EC
    BorderColor #C2185B
    FontColor #000000
}

skinparam person {
    BackgroundColor #E1F5FE
    BorderColor #01579B
    FontColor #000000
}

skinparam rectangle {
    BackgroundColor<<default>> #E8F5E8
    BorderColor #2E7D32
}

skinparam rectangle<<boundary>> {
    BackgroundColor #F3E5F5
    BorderColor #4A148C
}

@enduml
